<div class="container">
    <div class="row mt-5">
      <div class="col text-center">
        <header class="header">
          <h1>Get the best quality</h1>
        </header>
      </div>
    </div>
  
    <form class="form-group" [formGroup]="form">
      <div class="row my-5">
        <div class="col mx-auto">
          <div
            [ngClass]="{'border border-success': form.value.seobox === true}"
            class="d-flex justify-content-between align-items-center rounded p-5 shadow"
          >  <div>
              <h3>Seo</h3>
              <p>Programación de una web responsive completa</p>
            </div>
            <div>
              <h2>300 €</h2>
            </div>
            <div class="form-group form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="seobox"
                formControlName="seobox"
              />
              <label class="form-check-label">Añadir</label>
            </div>
          </div>
        </div>
      </div>
  
      <div class="row my-5">
        <div class="col mx-auto">
          <div
            [ngClass]="{'border border-success': form.value.adsbox === true}"
            class="d-flex justify-content-between align-items-center rounded p-5 shadow"
          >
            <div>
              <h3>Ads</h3>
              <p>Programación de una web responsive completa</p>
            </div>
            <div>
              <h2>400 €</h2>
            </div>
            <div class="form-group form-check">
              <input
                class="form-check-input"
                type="checkbox"
                name="adsbox"
                formControlName="adsbox"
              />
              <label class="form-check-label">Añadir</label>
            </div>
          </div>
        </div>
      </div>
  
      <div class="row my-5">
        <div class="col mx-auto">
          <div
            [ngClass]="{'border border-success': form.value.webbox === true}"
            class="d-flex justify-content-between align-items-center rounded p-5 shadow"
          >
            <div>
              <h3>Web</h3>
              <p>Programación de una web responsive completa</p>
            </div>
            <div>
              <h2>500 €</h2>
            </div>
            <div class="form-group form-check d-flex flex-column justify-content-center align-items-center">
              <div class="d-flex">
                <input
                  class="form-check-input"
                  type="checkbox"
                  name="webbox"
                  formControlName="webbox"
                />
                <label class="form-check-label"> Añadir</label>
              </div>
              <div *ngIf="form.value.webbox === true">
                <app-panel></app-panel>
                
              </div>
            </div>
          </div>
        </div>
      </div>
  
      <div class="row">
        <div class="col mx-auto text-end">
          <h3>Precio presupuestado: {{ BudgetService.total }} €</h3>
        </div>
      </div>
  
    </form>
  
    <!-- Formulario de datos de usuario, solo si hay un total > 0 -->
    <div *ngIf="BudgetService.total > 0" class="my-5">
      <form
        class="form-group form-inline border rounded p-4 shadow needs-validation"
        (submit)="addUser()"
        [formGroup]="formularioUser"
      >
        <div class="row">
          <div class="mb-4">
            <h3>Solicitar presupuesto</h3>
          </div>
  
          <!-- Campo nombre -->
          <div class="col">
            <input
              type="text"
              class="form-control mr-2"
              placeholder="Nombre"
              formControlName="nombre"
            />
            <!-- Un solo *ngIf, que muestra el mensaje si getErrorMessage('nombre') es distinto de null -->
            <div class="text-danger" *ngIf="getErrorMessage('nombre') as msg">
              {{ msg }}
            </div>
          </div>
  
          <!-- Campo teléfono -->
          <div class="col">
            <input
              type="number"
              min="0"
              class="form-control mr-2"
              placeholder="Teléfono"
              formControlName="telefono"
            />
            <div class="text-danger" *ngIf="getErrorMessage('telefono') as msg">
              {{ msg }}
            </div>
          </div>
  
          <!-- Campo email -->
          <div class="col">
            <input
              type="email"
              class="form-control mr-2"
              placeholder="Email"
              formControlName="email"
            />
            <div class="text-danger" *ngIf="getErrorMessage('email') as msg">
              {{ msg }}
            </div>
          </div>
  
          <!-- Botón submit -->
          <div class="col">
            <button type="submit" class="btn btn-success">
              Solicitar presupuesto
            </button>
          </div>
  
        </div>
      </form>
    </div>
  
    <!-- Lista de presupuestos si existen -->
    <div *ngIf="BudgetService.getEstimates.length > 0" class="my-5">
      <app-budgets-list></app-budgets-list>
    </div>
  
  </div>
  